:root {
  --bg-page:#ffffff;
  --bg-card:#ffffff;
  --bg-soft:#f5f5f5;
  --line:rgba(0,0,0,0.08);
  --text-main:#000;
  --text-dim:rgba(0,0,0,0.6);
  --accent:#ffcc4d;
  --accent-text:#000;
  --radius-lg:12px;
  --radius-md:10px;
  --radius-sm:8px;
  --sidebar-width:220px;
  --header-height:56px;
  --font:-apple-system,BlinkMacSystemFont,"Inter",Roboto,"Helvetica Neue",sans-serif;
}
*{box-sizing:border-box;-webkit-font-smoothing:antialiased;margin:0;padding:0;}
body.layout-body{
  background:var(--bg-soft);
  color:var(--text-main);
  font-family:var(--font);
  min-height:100vh;
  display:flex;
  flex-direction:column;
}
/* TOPBAR */
.topbar{
  position:sticky;top:0;z-index:100;
  background:var(--bg-card);
  border-bottom:1px solid var(--line);
  min-height:var(--header-height);
  display:flex;align-items:center;
  padding:0 16px;
  justify-content:space-between;
  flex-wrap:wrap;row-gap:8px;
}
.topbar-left{
  display:flex;align-items:center;gap:12px;
  flex:1 1 auto;
}
.logo-circle{
  background:var(--accent);color:var(--accent-text);
  font-size:13px;font-weight:600;
  width:32px;height:32px;border-radius:8px;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 8px 20px rgba(255,204,77,0.5);
}
.brand-block{display:flex;flex-direction:column;line-height:1.2;}
.brand-name{font-size:14px;font-weight:600;color:var(--text-main);}
.brand-sub{font-size:12px;color:var(--text-dim);}
.search-wrap{flex:1 1 auto;max-width:260px;}
.search-input{
  width:100%;background:var(--bg-soft);
  border:1px solid var(--line);
  border-radius:var(--radius-md);
  padding:8px 10px;font-size:14px;color:var(--text-main);
}
.topbar-right{
  display:flex;align-items:center;gap:12px;
}
.icon-btn{
  background:var(--bg-card);
  border:1px solid var(--line);
  border-radius:var(--radius-md);
  padding:8px 10px;
  cursor:pointer;
}
.icon-btn:hover{background:var(--bg-soft);}
.me-chip{
  display:flex;align-items:center;gap:6px;
  background:var(--bg-soft);
  border:1px solid var(--line);
  border-radius:var(--radius-md);
  padding:6px 8px;
  cursor:pointer;
}
.me-avatar{
  width:24px;height:24px;border-radius:6px;
  background:var(--accent);color:var(--accent-text);
  font-size:12px;font-weight:600;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 8px 20px rgba(255,204,77,0.5);
}
/* LAYOUT */
.page-wrap{
  flex:1;display:flex;
  width:100%;max-width:1300px;
  margin:16px auto;
  padding:0 16px 80px;
}
.sidebar{
  width:var(--sidebar-width);flex-shrink:0;
  display:flex;flex-direction:column;gap:16px;
  position:sticky;
  top:calc(var(--header-height) + 16px);
}
.side-nav{
  background:var(--bg-card);
  border:1px solid var(--line);
  border-radius:var(--radius-lg);
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.side-link{
  display:flex;align-items:center;gap:8px;
  font-size:14px;color:var(--text-main);
  text-decoration:none;
  padding:8px 10px;
  border-radius:var(--radius-md);
}
.side-link.active,.side-link:hover{
  background:var(--accent);color:var(--accent-text);
  box-shadow:0 8px 20px rgba(255,204,77,0.4);
}
.main-col{
  flex:1;display:flex;flex-direction:column;
  gap:16px;margin-left:16px;
}
.block-card{
  background:var(--bg-card);
  border:1px solid var(--line);
  border-radius:var(--radius-lg);
  padding:16px;
  display:flex;flex-direction:column;gap:16px;
}
.block-head{display:flex;flex-direction:column;gap:4px;}
.block-title{font-size:15px;font-weight:600;}
.block-sub{font-size:13px;color:var(--text-dim);}
.stories-row{
  display:flex;gap:16px;
  overflow-x:auto;
  padding-bottom:8px;
}
.story-bubble{
  text-align:center;min-width:64px;
  color:var(--text-main);
}
.story-ring{
  width:64px;height:64px;border-radius:50%;
  border:2px solid var(--accent);
  box-shadow:0 8px 20px rgba(255,204,77,0.3);
  display:flex;align-items:center;justify-content:center;
  margin:0 auto 6px;
}
.story-ring.add{border-color:var(--line);}
.story-inner{
  width:52px;height:52px;border-radius:50%;
  background:var(--bg-card);
  border:1px solid var(--line);
  color:var(--accent);
  font-weight:600;
  display:flex;align-items:center;justify-content:center;
}
.story-name{font-size:12px;color:var(--text-dim);}
.btn-primary{
  background:var(--accent);
  color:var(--accent-text);
  border:none;
  border-radius:var(--radius-md);
  font-size:13px;font-weight:600;
  padding:8px 10px;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(255,204,77,0.4);
}
.feed-list{display:flex;flex-direction:column;gap:16px;}
.feed-item{display:flex;gap:12px;}
.feed-emoji{font-size:20px;}
.feed-line{font-size:14px;}
/* messages */
.messages-wrap{display:flex;gap:16px;flex-wrap:wrap;}
.dialogs-list{
  background:var(--bg-card);
  border:1px solid var(--line);
  border-radius:var(--radius-lg);
  flex:0 0 260px;
}
.dialog-item{
  display:flex;gap:12px;
  padding:12px;
  border-bottom:1px solid var(--line);
  cursor:pointer;
}
.dialog-item.active{
  background:var(--accent);
  color:var(--accent-text);
}
.avatar-circle{
  width:40px;height:40px;border-radius:50%;
  background:var(--bg-soft);
  display:flex;align-items:center;justify-content:center;
  font-weight:600;
}
.avatar-circle.online{
  box-shadow:0 0 0 2px var(--bg-card),0 0 0 4px var(--accent);
  border:1px solid var(--accent);
}
.dialog-main{flex:1;display:flex;flex-direction:column;gap:4px;}
.dialog-top{
  display:flex;
  justify-content:space-between;
  font-size:13px;font-weight:600;
}
.dialog-time{font-size:12px;color:var(--text-dim);}
.dialog-last{
  font-size:13px;color:var(--text-dim);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.chat-area{
  flex:1;
  background:var(--bg-card);
  border:1px solid var(--line);
  border-radius:var(--radius-lg);
  display:flex;flex-direction:column;
  max-height:480px;
}
.chat-header{
  border-bottom:1px solid var(--line);
  padding:12px;
  display:flex;align-items:center;gap:10px;
}
.avatar-circle.small{
  width:32px;height:32px;font-size:12px;
}
.chat-name{font-size:14px;font-weight:600;}
.chat-status{font-size:12px;color:var(--text-dim);}
.chat-messages{
  flex:1;overflow-y:auto;
  padding:12px;
  display:flex;flex-direction:column;
  gap:8px;
}
.msg{
  max-width:70%;
  padding:8px 10px;
  border-radius:var(--radius-md);
  background:var(--bg-soft);
}
.msg-me{
  align-self:flex-end;
  background:var(--accent);
  color:var(--accent-text);
}
.chat-input-row{
  border-top:1px solid var(--line);
  padding:12px;
  display:flex;gap:8px;
}
.chat-input{
  flex:1;
  border:1px solid var(--line);
  border-radius:var(--radius-md);
  padding:8px 10px;
  font-size:14px;
}
/* groups */
.groups-list{display:flex;flex-direction:column;gap:12px;}
.group-item{
  display:flex;gap:12px;
  background:var(--bg-soft);
  border:1px solid var(--line);
  border-radius:var(--radius-md);
  padding:12px;
}
.avatar-circle.grp{
  background:var(--accent);
  color:var(--accent-text);
  box-shadow:0 8px 20px rgba(255,204,77,0.4);
}
.group-name{font-weight:600;}
.group-desc{font-size:13px;color:var(--text-dim);}
.small-btn{padding:6px 8px;font-size:12px;}
/* misc */
.placeholder-area{
  background:var(--bg-soft);
  border:1px dashed var(--line);
  border-radius:var(--radius-md);
  padding:24px;
  text-align:center;
  color:var(--text-dim);
  display:flex;flex-direction:column;gap:8px;
}
.placeholder-emoji{font-size:24px;}
.placeholder-text{font-size:14px;}
.profile-top{
  display:flex;flex-wrap:wrap;gap:16px;
  align-items:flex-start;
}
.avatar-big{
  width:72px;height:72px;border-radius:50%;
  background:var(--accent);color:var(--accent-text);
  font-weight:700;font-size:18px;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 8px 20px rgba(255,204,77,0.4);
}
.profile-main{
  display:flex;flex-direction:column;gap:6px;
}
.profile-name{font-size:18px;font-weight:600;color:var(--text-main);}
.profile-status{font-size:14px;color:var(--text-dim);}
.profile-bio{font-size:14px;color:var(--text-main);}
.profile-city{font-size:13px;color:var(--text-dim);}
.profile-btn{margin-top:8px;}
.profile-stories-title{
  font-size:14px;font-weight:600;
  margin-top:8px;
}
.grid-2{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(min(260px,100%),1fr));
  gap:16px;
}
.top-gap{margin-top:16px;}
.mini-card{
  background:var(--bg-card);
  border:1px solid var(--line);
  border-radius:var(--radius-lg);
  padding:12px;
  display:flex;gap:12px;
}
.mini-icon{
  background:var(--accent);color:var(--accent-text);
  width:32px;height:32px;border-radius:var(--radius-sm);
  font-size:14px;font-weight:600;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 8px 20px rgba(255,204,77,0.4);
}
.mini-body{display:flex;flex-direction:column;gap:4px;}
.mini-title{font-size:14px;font-weight:600;}
.mini-desc{font-size:13px;color:var(--text-dim);}
/* mobile tabbar */
.mobile-tabbar{
  display:none;
  position:fixed;left:0;right:0;bottom:0;
  background:var(--bg-card);
  border-top:1px solid var(--line);
  justify-content:space-around;
  padding:8px 0;
  z-index:200;
}
.tab-btn{
  font-size:12px;text-decoration:none;
  color:var(--text-dim);
  display:flex;flex-direction:column;
  align-items:center;gap:4px;
}
.tab-btn.on{
  color:var(--text-main);
  font-weight:600;
}
.tab-btn span{
  font-size:11px;font-weight:500;
}
@media(max-width:1000px){
  .sidebar{display:none;}
  .main-col{margin-left:0;}
}
@media(max-width:700px){
  .mobile-tabbar{display:flex;}
  .messages-wrap{flex-direction:column;}
  .chat-area{max-height:none;}
}
